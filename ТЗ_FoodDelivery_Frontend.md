# ТЕХНИЧЕСКОЕ ЗАДАНИЕ
## Frontend приложения "Food Delivery" для поваров

### 1. ОБЩАЯ ИНФОРМАЦИЯ

**Название проекта:** Food Delivery Frontend  
**Технологический стек:** React 18, React Router DOM, CSS3, JavaScript ES6+  
**Архитектура:** SPA (Single Page Application)  
**Целевая платформа:** Web-браузеры (Chrome, Firefox, Safari, Edge)  
**Версия:** 1.0.0  

### 2. ФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ

#### 2.1 Аутентификация и авторизация
- **Регистрация повара** с валидацией email и пароля
- **Вход в систему** с проверкой учетных данных
- **Роли пользователей:** Chef, Manager, Admin
- **Защищенные маршруты** с проверкой токена авторизации
- **Выход из системы** с очисткой данных сессии

#### 2.2 Управление меню
- **Добавление блюд** с полями: название, описание, цена, категория, фото
- **Редактирование блюд** через модальное окно
- **Удаление блюд** с подтверждением
- **Категоризация блюд** по 11 предустановленным категориям
- **Загрузка изображений** с валидацией типа и размера файла

#### 2.3 Интерфейс категорий
- **Просмотр блюд по категориям** через модальные окна
- **Фильтрация блюд** по выбранной категории
- **Навигация по категориям** с визуальными индикаторами

#### 2.4 Чат с клиентами
- **Интерфейс чата** (заглушка для будущей интеграции)
- **Отображение сообщений** в реальном времени

### 3. ТЕХНИЧЕСКАЯ АРХИТЕКТУРА

#### 3.1 Структура проекта
```
src/
├── components/           # React компоненты
│   ├── Home.jsx         # Главная страница
│   ├── Login.jsx        # Страница входа
│   ├── Register.jsx     # Страница регистрации
│   └── ChefMenu.jsx     # Страница меню повара
├── api.js               # API клиент и заглушки
├── App.js               # Главный компонент приложения
├── App.css              # Глобальные стили
└── index.js             # Точка входа
```

#### 3.2 Маршрутизация
- `/` - Главная страница
- `/login` - Вход в систему
- `/register` - Регистрация
- `/chef` - Редирект на страницу повара
- `/chef/:chefId/menu` - Страница меню повара (защищенный маршрут)

#### 3.3 API интеграция
- **Централизованный API клиент** в `src/api.js`
- **Поддержка переменной окружения** `REACT_APP_API_BASE_URL`
- **Демо-режим** с localStorage для тестирования без бэкенда
- **Обработка ошибок** с пользовательскими уведомлениями

### 4. КОМПОНЕНТЫ И ИХ ФУНКЦИОНАЛЬНОСТЬ

#### 4.1 App.js
**Назначение:** Главный компонент приложения с маршрутизацией

**Ключевые функции:**
- Настройка React Router
- Глобальная навигация
- Защищенные маршруты
- Компоненты навигации

**Подкомпоненты:**
- `ProtectedRoute` - проверка авторизации
- `ChefRedirect` - редирект на страницу повара
- `ChefLink` - динамическая ссылка на страницу повара
- `LogoutButton` - кнопка выхода из системы

#### 4.2 Login.jsx
**Назначение:** Аутентификация пользователей

**Функциональность:**
- Форма входа с валидацией
- Демо-логин для тестирования
- Интеграция с API
- Обработка ошибок
- Редирект после успешного входа

**Состояние:**
- `email` - email пользователя
- `password` - пароль
- `error` - сообщения об ошибках

#### 4.3 Register.jsx
**Назначение:** Регистрация новых поваров

**Функциональность:**
- Форма регистрации с валидацией
- Загрузка аватара с валидацией
- Создание демо-аккаунта
- Валидация email и пароля

**Валидация:**
- Email: регулярное выражение для проверки формата
- Пароль: минимум 8 символов
- Аватар: JPG/PNG/WEBP, максимум 2MB

#### 4.4 ChefMenu.jsx
**Назначение:** Управление меню повара

**Основные функции:**
- Отображение профиля повара
- Форма добавления блюд (только для Chef/Manager/Admin)
- Сетка категорий с модальными окнами
- Интерфейс чата
- Управление блюдами (добавление, редактирование, удаление)

**Состояние:**
- `categories` - список категорий
- `dishes` - список блюд
- `activeCategory` - активная категория
- `loading` - состояние загрузки
- `toast` - уведомления
- `editingDish` - редактируемое блюдо
- `showCategoryModal` - модальное окно категории

**Модальные окна:**
- Просмотр блюд категории
- Редактирование блюда

### 5. API ИНТЕГРАЦИЯ

#### 5.1 Структура API клиента
```javascript
// Основные функции
- getChefMenu(chefId, categoryId)     // Получение меню
- createDish(chefId, dish)            // Создание блюда
- updateDish(chefId, dishId, updates) // Обновление блюда
- deleteDish(chefId, dishId)          // Удаление блюда
- login(email, password)              // Аутентификация
- getProfile()                        // Получение профиля
```

#### 5.2 Демо-режим
- **Автоматическое переключение** при отсутствии `REACT_APP_API_BASE_URL`
- **localStorage** для хранения данных
- **Имитация задержек** API запросов
- **Полная функциональность** без бэкенда

#### 5.3 Обработка ошибок
- **Централизованная обработка** в `apiRequest`
- **Пользовательские уведомления** через toast
- **Логирование ошибок** в консоль

### 6. СТИЛИЗАЦИЯ И UI/UX

#### 6.1 Дизайн-система
- **Цветовая схема:** Оранжевые градиенты (#ff7043, #ffa270)
- **Типографика:** Segoe UI, Tahoma, Geneva, Verdana
- **Компоненты:** Карточки с тенями, кнопки с градиентами
- **Адаптивность:** Grid-система с auto-fit

#### 6.2 Ключевые стили
- **Модальные окна** с затемненным фоном
- **Skeleton loading** для состояния загрузки
- **Toast уведомления** с анимацией
- **Highlight эффекты** для новых элементов
- **Sticky навигация** с фиксированным позиционированием

#### 6.3 Анимации
- **Плавные переходы** для hover эффектов
- **Pulse анимация** для skeleton loading
- **Highlight анимация** для новых блюд
- **Fade эффекты** для toast уведомлений

### 7. УПРАВЛЕНИЕ СОСТОЯНИЕМ

#### 7.1 Local Storage
**Ключи:**
- `authToken` - токен авторизации
- `chefId` - ID повара
- `role` - роль пользователя
- `chefEmail` - email повара
- `chefPassword` - пароль (демо)
- `chefAvatar` - аватар повара
- `demo_menu_{chefId}` - блюда повара (демо)

#### 7.2 React State
- **Локальное состояние** в каждом компоненте
- **Props** для передачи данных между компонентами
- **URL параметры** для навигации и фильтрации

### 8. ВАЛИДАЦИЯ И ОБРАБОТКА ОШИБОК

#### 8.1 Клиентская валидация
- **Email:** регулярное выражение для проверки формата
- **Пароль:** минимум 8 символов
- **Цена:** положительное число
- **Изображения:** JPG/PNG/WEBP, максимум 2MB
- **Обязательные поля:** название, цена, категория

#### 8.2 Обработка ошибок
- **Inline валидация** с отображением ошибок под полями
- **Toast уведомления** для API ошибок
- **Graceful degradation** при отсутствии данных

### 9. ПРОИЗВОДИТЕЛЬНОСТЬ И ОПТИМИЗАЦИЯ

#### 9.1 Оптимизация загрузки
- **Lazy loading** для изображений
- **Skeleton loading** для улучшения UX
- **Debounced поиск** (планируется)

#### 9.2 Управление памятью
- **Очистка состояния** при размонтировании компонентов
- **Оптимизация re-renders** с useMemo
- **Эффективная работа с localStorage**

### 10. ТЕСТИРОВАНИЕ И ОТЛАДКА

#### 10.1 Демо-режим
- **Полная функциональность** без бэкенда
- **Реалистичные данные** для тестирования
- **Имитация задержек** API

#### 10.2 Отладка
- **Console.log** для API вызовов
- **Error boundaries** (планируется)
- **React DevTools** поддержка

### 11. РАЗВЕРТЫВАНИЕ И КОНФИГУРАЦИЯ

#### 11.1 Переменные окружения
```bash
REACT_APP_API_BASE_URL=https://api.example.com
```

#### 11.2 Сборка
```bash
npm run build
```

#### 11.3 Запуск в разработке
```bash
npm start
```

### 12. БУДУЩИЕ УЛУЧШЕНИЯ

#### 12.1 Планируемые функции
- **Реальный чат** с WebSocket
- **Push уведомления**
- **PWA функциональность**
- **Темная тема**
- **Многоязычность**

#### 12.2 Технические улучшения
- **TypeScript** миграция
- **Redux** для управления состоянием
- **Unit тесты** с Jest
- **E2E тесты** с Cypress

### 13. ЗАВИСИМОСТИ

#### 13.1 Основные пакеты
```json
{
  "react": "^18.2.0",
  "react-dom": "^18.2.0",
  "react-router-dom": "^6.8.0"
}
```

#### 13.2 Dev зависимости
```json
{
  "react-scripts": "5.0.1"
}
```

### 14. СОВМЕСТИМОСТЬ

#### 14.1 Браузеры
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

#### 14.2 Устройства
- Desktop (1024px+)
- Tablet (768px+)
- Mobile (320px+)

---

**Дата создания:** 2024  
**Версия документа:** 1.0  
**Автор:** AI Assistant  
**Статус:** Готов к реализации
